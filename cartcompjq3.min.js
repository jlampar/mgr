"use strict";(function(c,e){"use strict";c.addEventListener("DOMContentLoaded",function(){var f=e.location.href.replace(e.location.hash,"");[].slice.call(c.querySelectorAll("use[*|href]")).filter(function(j){return 0===j.getAttribute("xlink:href").indexOf("#")}).forEach(function(j){j.setAttribute("xlink:href",f+j.getAttribute("xlink:href"))})},!1)})(document,window),$(document).ready(function(){function c(F){var G;if(F instanceof Array){G=[];for(var H=0,I=F.length;H<I;H++)G[H]=c(F[H]);return G}return F}function e(F){if(document.getElementById(F)){for(var G=document.getElementById(F).getAttribute("d"),I=("\""+(G+"")+"\"").replace(/[MZ]/g,"").replace(/[L]/g," ").split(" "),J=[],K=0;K<xArray.length;K++)J.push([parseFloat(I[r].replace(/["]/g,"")[p].split(",")[0][K]),parseFloat(I[r].replace(/["]/g,"")[p].split(",")[1][K])]);return J}}function f(F,G){if(document.getElementById(F)&&document.getElementById(G)){enterPath=e(F),exitPath=e(G);for(var K,L,H=c(enterPath),I=c(exitPath),J=[],M=0;M<I.length;M++)numerator=I.splice(M,exitPath.length-M),I=numerator.concat(I),K=Math.abs(H[M][0]-I[M][0]),L=Math.abs(H[M][1]-I[M][1]),J.push(Math.sqrt(K*K+L*L)),I.length=0,I=c(exitPath),numerator=null;return J.indexOf(Math.min.apply(null,J))}}function j(F,G){if(document.getElementById(F)&&document.getElementById(G)){enID=document.getElementById(F),exID=document.getElementById(G);var H=KUTE.fromTo(enID,{path:enID},{path:exID},{morphPrecision:1,morphIndex:f(enID,exID),easing:"easingElasticInOut",duration:500});return H}}function k(F,G,H){"use strict";var I=H?y[G]===F?y:y.map(function(T,U){return U===G?T+1:T}):0===y[G]?y:y.map(function(T,U){return U===G?T-1:T}),J=I.join("");if(y=I,console.log("0000 ---> ",I),document.getElementById("0000")&&document.getElementById(J)){for(var K=[],L=[],M=[],N=[],O=[],P=0;P<document.getElementById("0000").childNodes.length;P++)K.push(document.getElementById("0000").childNodes[P].id),L.push(document.getElementById(J).childNodes[P].id);for(var Q=0;Q<K.length;Q++)M.push([K[Q],L[Q]]);for(var R=0;R<M.length;R++)N.push(j(M[R][0],M[R][1]));for(var S=0;S<N.length;S++)O.push(N[S].start());return O}}var l=document.getElementById("basket").offsetHeight,m=l,n=d3.select(document.getElementById("basket")).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+m+" "+l).attr("id","SVG"),o=d3.select("#basket"),p=n.append("g").attr("id","container"),q=d3.geoMercator(),u=["0000","0001","0002","0003","0004","0005","0006","0007","0008","0009","0010","0011","0012","0013","0014","0015","0016","0017","0018","0019","0100","0101","0102","0103","0104","0105","0106","0107","0108","0109","0110","0111","0112","0113","0114","0115","0116","0117","0118","0119","0200","0201","0202","0203","0204","0205","0206","0207","0208","0209","0210","0211","0212","0213","0214","0215","0216","0217","0218","0219","0300","0301","0302","0303","0304","0305","0306","0307","0308","0309","0310","0311","0312","0313","0314","0315","0316","0317","0318","0319","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2100","2101","2102","2103","2104","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","2116","2117","2118","2119","2200","2201","2202","2203","2204","2205","2206","2207","2208","2209","2210","2211","2212","2213","2214","2215","2216","2217","2218","2219","2300","2301","2302","2303","2304","2305","2306","2307","2308","2309","2310","2311","2312","2313","2314","2315","2316","2317","2318","2319"],v=[],x=d3.queue();u.forEach(function(F){x.defer(d3.json,"https://rawgit.com/jlampar/mgr/master/jsonfile/cJSON/c"+F+".min.topojson"),v.push(F)}),x.awaitAll(function(F,G){if(F)throw F;var H=v.indexOf("2019"),I=topojson.feature(G[H],Object.values(G[H].objects)[0]);v.length=0,q.scale(1).translate([0,0]);var J=d3.geoPath().projection(q),K=J.bounds(I),L=.95/Math.max((K[1][0]-K[0][0])/m,(K[1][1]-K[0][1])/l),M=[(m-L*(K[1][0]+K[0][0]))/2,(l-L*(K[1][1]+K[0][1]))/2];q.scale(L).translate(M);for(var N=0;N<G.length;N++){var O=d3.geoPath().projection(q),P=topojson.feature(G[N],Object.values(G[N].objects)[0]);0===N?p.append("g").attr("id",u[N]).selectAll("path").data(P.features).enter().append("path").attr("id",function(Q){return Q.properties.woj+u[N]}).attr("d",O).style("fill","#dee2ed").style("stroke","black").style("stroke-width","0.05em"):p.append("g").attr("id",u[N]).attr("class","hide").selectAll("path").data(P.features).enter().append("path").attr("id",function(Q){return Q.properties.woj+u[N]}).attr("d",O)}});var y=[0,0,0,0];document.getElementById("nBase").onclick=function(){k(2,0,!0)},document.getElementById("pBase").onclick=function(){k(2,0,!1)},document.getElementById("nGene").onclick=function(){k(3,1,!0)},document.getElementById("pGene").onclick=function(){k(3,1,!1)},document.getElementById("nNet").onclick=function(){k(1,2,!0)},document.getElementById("pNet").onclick=function(){k(1,2,!1)},document.getElementById("nGauss").onclick=function(){k(9,3,!0)},document.getElementById("pGauss").onclick=function(){k(9,3,!1)};var z=$("#cont"),A=$("#header"),B=$("#paraStory"),C=$("#first"),D=$("#second"),E=$("#third");$(window).on("scroll",function(){var F=$(this).scrollTop();z.css({opacity:1-F/200}),A.css({opacity:1-F/130}),B.css({opacity:0+F/350}),C.css({opacity:0+F/450}),D.css({opacity:0+F/470}),E.css({opacity:0+F/490})}),$(window).on("resize",function(){961>=$(window).width()&&(B.css({opacity:"1"}),C.css({opacity:"1"}),D.css({opacity:"1"}),E.css({opacity:"1"}))}),$(".boxFrame").hover(function(){961<$(window).width()&&$(this).children(".icon").toggleClass("icon over")},function(){961<$(window).width()&&$(this).children(".over").toggleClass("over icon")})});
