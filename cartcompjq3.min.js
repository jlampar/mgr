!function(t,e){"use strict";t.addEventListener("DOMContentLoaded",function(){var n=e.location.href.replace(e.location.hash,"");[].slice.call(t.querySelectorAll("use[*|href]")).filter(function(t){return 0===t.getAttribute("xlink:href").indexOf("#")}).forEach(function(t){t.setAttribute("xlink:href",n+t.getAttribute("xlink:href"))})},!1)}(document,window),$(document).ready(function(){function t(t,e,n,r){"use strict";if(console.log(t,e,n,r),console.log(typeof n),console.log(t[n]),t[n]>0&&t[n]<e){var o=t.forEach(r?function(t,e){}:function(t,e){});if(console.log("endID: ",o),document.getElementById("0000")&&document.getElementById(o)){for(var i=[],a=[],s=[],c=[],l=[],d=0;d<document.getElementById("0000").childNodes.length;d++)i.push(document.getElementById("0000").childNodes[d].id),a.push(document.getElementById(o).childNodes[d].id);console.log("startList: ",i),console.log("endList: ",a);for(var u=0;u<i.length;u++)s.push([i[u],a[u]]);console.log("tweenArray: ",s);for(var p=0;p<s.length;p++)c.push(twn(s[p][0],s[p][1]));console.log("varArray: ",c);for(var h=0;h<c.length;h++)l.push(c[h].start());return console.log("startArray: ",l),l}}}var e=document.getElementById("basket").offsetHeight,n=e,o=d3.select(document.getElementById("basket")).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+n+" "+e).attr("id","SVG"),i=(d3.select("#basket"),o.append("g").attr("id","container")),a=d3.geoMercator(),s=["0000","0001","0002","0003","0004","0005","0006","0007","0008","0009","0010","0011","0012","0013","0014","0015","0016","0017","0018","0019","0100","0101","0102","0103","0104","0105","0106","0107","0108","0109","0110","0111","0112","0113","0114","0115","0116","0117","0118","0119","0200","0201","0202","0203","0204","0205","0206","0207","0208","0209","0210","0211","0212","0213","0214","0215","0216","0217","0218","0219","0300","0301","0302","0303","0304","0305","0306","0307","0308","0309","0310","0311","0312","0313","0314","0315","0316","0317","0318","0319","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2100","2101","2102","2103","2104","2105","2106","2107","2108","2109","2110","2111","2112","2113","2114","2115","2116","2117","2118","2119","2200","2201","2202","2203","2204","2205","2206","2207","2208","2209","2210","2211","2212","2213","2214","2215","2216","2217","2218","2219","2300","2301","2302","2303","2304","2305","2306","2307","2308","2309","2310","2311","2312","2313","2314","2315","2316","2317","2318","2319"],c=d3.queue();s.forEach(function(t){var e="https://rawgit.com/jlampar/mgr/master/jsonfile/cJSON/c"+t+".min.topojson";c.defer(d3.json,e)}),c.awaitAll(function(t,r){if(t)throw t;console.log(r);var o=topojson.feature(r[199],Object.values(r[199].objects)[0]);a.scale(1).translate([0,0]);var c=d3.geoPath().projection(a),l=c.bounds(o),d=.95/Math.max((l[1][0]-l[0][0])/n,(l[1][1]-l[0][1])/e),u=[(n-d*(l[1][0]+l[0][0]))/2,(e-d*(l[1][1]+l[0][1]))/2];a.scale(d).translate(u);for(var p=0;p<r.length;p++){var h=d3.geoPath().projection(a),f=topojson.feature(r[p],Object.values(r[p].objects)[0]);0===p?i.append("g").attr("id",s[p]).selectAll("path").data(f.features).enter().append("path").attr("id",function(t){return t.properties.woj+s[p]}).attr("d",h).style("fill","#dee2ed").style("stroke","black").style("stroke-width","0.05em"):i.append("g").attr("id",s[p]).attr("class","hide").selectAll("path").data(f.features).enter().append("path").attr("id",function(t){return t.properties.woj+s[p]}).attr("d",h)}});var l=[0,0,0,0];document.getElementById("nBase").onclick=function(){t(l,2,0,!0)},document.getElementById("pBase").onclick=function(){t(l,2,0,!1)},document.getElementById("nGene").onclick=function(){t(l,3,1,!0)},document.getElementById("pGene").onclick=function(){t(l,3,1,!1)},document.getElementById("nNet").onclick=function(){t(l,1,2,!0)},document.getElementById("pNet").onclick=function(){t(l,1,2,!1)},document.getElementById("nGauss").onclick=function(){t(l,9,3,!0)},document.getElementById("pGauss").onclick=function(){t(l,9,3,!1)};var d=$("#cont"),u=$("#header"),p=$("#paraStory"),h=$("#first"),f=$("#second"),g=$("#third");$(window).on("scroll",function(){var t=$(this).scrollTop();d.css({opacity:1-t/200}),u.css({opacity:1-t/130}),p.css({opacity:0+t/350}),h.css({opacity:0+t/450}),f.css({opacity:0+t/470}),g.css({opacity:0+t/490})}),$(window).on("resize",function(){$(window).width()>961||(p.css({opacity:"1"}),h.css({opacity:"1"}),f.css({opacity:"1"}),g.css({opacity:"1"}))}),$(".boxFrame").hover(function(){$(window).width()>961&&$(this).children(".icon").toggleClass("icon over")},function(){$(window).width()>961&&$(this).children(".over").toggleClass("over icon")}),clone=function(t){var e;if(t instanceof Array){e=[];for(var n=0,r=t.length;r>n;n++)e[n]=clone(t[n]);return e}return t},pathParser=function(t){if(document.getElementById(t)){for(var e=document.getElementById(t).getAttribute("d"),n='"'+(e+"")+'"',o=n.replace(/[MZ]/g,"").replace(/[L]/g," ").split(" "),a=[],s=0;s<xArray.length;s++)a.push([parseFloat(o[r].replace(/["]/g,"")[i].split(",")[0][s]),parseFloat(o[r].replace(/["]/g,"")[i].split(",")[1][s])]);return a}},bestIndex=function(t,e){if(document.getElementById(t)&&document.getElementById(e)){enterPath=pathParser(t),exitPath=pathParser(e);for(var n,r,o=clone(enterPath),i=clone(exitPath),a=[],s=0;s<i.length;s++)numerator=i.splice(s,exitPath.length-s),i=numerator.concat(i),n=Math.abs(o[s][0]-i[s][0]),r=Math.abs(o[s][1]-i[s][1]),a.push(Math.sqrt(n*n+r*r)),i=[],i=clone(exitPath),numerator=null;return a.indexOf(Math.min.apply(null,a))}},twn=function(t,e){if(document.getElementById(t)&&document.getElementById(e)){enID=document.getElementById(t),exID=document.getElementById(e);var n=KUTE.fromTo(enID,{path:enID},{path:exID},{morphPrecision:1,morphIndex:bestIndex(enID,exID),easing:"easingElasticInOut",duration:500});return n}}});
